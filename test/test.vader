# Requires vader.vim <https://github.com/junegunn/vader.vim>


Execute (word to grep pattern):
  AssertEqual ' "\btestTerm\b"', WordToGrepPattern('testTerm')


Execute (get file type glob):
  AssertEqual '*.py', GetFileTypeGlob('py')


Execute (construct exclude dir string from globals, single dir):
  let g:supplantExcludeDirs = ['node_modules']
  AssertEqual ' --exclude-dir="node_modules"',
    \ ConstructExcludeDirArgsFromGlobalSetting()


Execute (construct exclude dir string from globals, multi dir):
  let g:supplantExcludeDirs = ['node_modules', 'staticfiles']
  AssertEqual ' --exclude-dir="node_modules" --exclude-dir="staticfiles"',
    \ ConstructExcludeDirArgsFromGlobalSetting()


Execute (construct exclude dir string from globals, no dirs):
  let g:supplantExcludeDirs = []
  AssertEqual '', ConstructExcludeDirArgsFromGlobalSetting()


Execute (construct grep command):
  let grepPattern = ' "\bpattern\b"'
  let includes = ' --include="*.py"'
  let excludes = ' --exclude-dir="node_modules"'
  let FlagGetter = function('GetCaseSensitiveGrepFlags')
  let actual = ConstructGrepCommand(grepPattern, FlagGetter)
  let expected = 'silent lgrep -r -m 1 -e "\bpattern\b" .'
  AssertEqual expected, actual
