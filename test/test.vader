# Requires vader.vim <https://github.com/junegunn/vader.vim>


Execute (word to grep pattern):
  AssertEqual ' "\btestTerm\b"', WordToGrepPattern('testTerm')


Execute (get file type glob):
  AssertEqual '*.py', GetFileTypeGlob('py')


Execute (construct exclude dir string from globals, single dir):
  let g:supplantExcludeDirs = ['node_modules']
  AssertEqual ' --exclude-dir="node_modules"',
    \ ConstructExcludeDirArgsFromGlobalSetting()


Execute (construct exclude dir string from globals, multi dir):
  let g:supplantExcludeDirs = ['node_modules', 'staticfiles']
  AssertEqual ' --exclude-dir="node_modules" --exclude-dir="staticfiles"',
    \ ConstructExcludeDirArgsFromGlobalSetting()


Execute (construct exclude dir string from globals, no dirs):
  let g:supplantExcludeDirs = []
  AssertEqual '', ConstructExcludeDirArgsFromGlobalSetting()


Execute (construct grep command):
  let grepPattern = ' "\bpattern\b"'
  let includes = ' --include="*.py"'
  let excludes = ' --exclude-dir="node_modules"'
  let FlagGetter = function('GetCaseSensitiveGrepFlags')
  let actual = ConstructGrepCommand(grepPattern, FlagGetter)
  let expected = 'silent lgrep -r -m 1 -e "\bpattern\b" .'
  AssertEqual expected, actual


Execute (parse args with flags):
  let argString = '/oldWord/newWord/flags'
  let expected = ['oldWord', 'newWord', 'flags']
  let actual = ParseArgs(argString)
  AssertEqual expected, actual


Execute (parse args without flags):
  let argString = '/oldWord/newWord'
  let expected = ['oldWord', 'newWord', '']
  let actual = ParseArgs(argString)
  AssertEqual expected, actual


Execute (parse args without flags, and trailing slash):
  let argString = '/oldWord/newWord/'
  let expected = ['oldWord', 'newWord', '']
  let actual = ParseArgs(argString)
  AssertEqual expected, actual


Execute (parse args empty substitute field):
  let argString = '/oldWord//flags'
  let expected = ['oldWord', '', 'flags']
  let actual = ParseArgs(argString)
  AssertEqual expected, actual


Execute (parse args empty substitute field and no flags):
  let argString = '/oldWord//'
  let expected = ['oldWord', '', '']
  let actual = ParseArgs(argString)
  AssertEqual expected, actual


Execute (return case sensitive grep flags):
  AssertEqual ' -r -m 1 -e', GetCaseSensitiveGrepFlags()


Execute (return case insensitive grep flags):
  AssertEqual ' -ri -m 1 -e', GetCaseInsensitiveGrepFlags()
